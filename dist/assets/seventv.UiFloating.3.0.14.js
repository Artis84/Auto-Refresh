import{o as p}from"./seventv.index.3.0.143.js";import{e as v,w as m,o as h,l as w,f as y,at as B,aR as g,aS as k,_ as x}from"./seventv.index.3.0.14.js";import{r as C}from"./seventv.useUserAgent.3.0.14.js";const F=v({__name:"UiFloating",props:{anchor:{},position:{},emitClickout:{type:Boolean},middleware:{},placement:{},once:{type:Boolean}},emits:["clickout"],setup(f,{emit:u}){const o=f,i=C();let e;m(()=>{e==null||e(),e=void 0;const n=o.anchor,a=i.value,_=o.middleware??[],d=o.placement;if(!a)return;const l={getBoundingClientRect:()=>{var c,r;return{top:((c=o.position)==null?void 0:c[1])??0,left:((r=o.position)==null?void 0:r[0])??0,width:0,height:0}}},s=()=>{k(n??l,a,{middleware:_,placement:d}).then(({x:c,y:r})=>{a.style.top=`${r}px`,a.style.left=`${c}px`})};o.once?s():e=g(n??l,a,s)});let t;return m(()=>{t==null||t(),t=void 0,o.emitClickout&&(t=p(i.value,n=>u("clickout",n)))}),h(()=>{e==null||e(),t==null||t()}),(n,a)=>(w(),y("div",{ref_key:"el",ref:i,class:"floating-container"},[B(n.$slots,"default",{},void 0,!0)],512))}});const R=x(F,[["__scopeId","data-v-4305b416"]]);export{R as U};
